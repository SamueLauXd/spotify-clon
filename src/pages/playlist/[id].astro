---
import NavMenu from "../../components/NavMenu.astro";
import Layout from "../../layouts/Layout.astro";
import { playlists, songs } from "../../lib/data";

const {id} = Astro.params

const selectedPlaylist = playlists.find(playlist => playlist.id === id)
const playlistSongs = songs.filter(song => song.albumId.toString() === id)
---
<Layout title=`Playlist ${selectedPlaylist.title}`>
    <div transition:name=`playlist ${id} box` class=`flex gap-2 flex-col p-4 h-full bg-zinc-900`>
        <NavMenu/>
        <header class="flex gap-8 items-center mt-6">
            <picture>
                <img src={selectedPlaylist.cover} transition:name=`playlist ${id} image` class="w-40 rounded-md h-auto aspect-square">
            </picture>
            <div class="flex flex-col gap-2">
                <p>Playlist</p>
                <h1 transition:name=`playlist ${id} title` class="font-bold text-7xl">{selectedPlaylist.title}</h1>
                <p transition:name=`playlist ${id} artists` class="text-zinc-400">{selectedPlaylist.artists.join(", ")}</p>
                <span><strong>Spotify | </strong>{playlistSongs.length + 1} Canciones</span>
            </div>
        </header>
    </div>
</Layout>